{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/breno/OneDrive/Projetos/futbeer/src/lib/supabaseClient.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\r\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,CAAA,GAAA,yLAAA,CAAA,eAAY,AAAD,EAAE,aAAa","debugId":null}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/breno/OneDrive/Projetos/futbeer/src/app/api/partidas/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server'\r\nimport { supabase } from '@/lib/supabaseClient'\r\nimport { Partida } from '@/app/types'\r\n\r\nexport const config = {\r\n  runtime: 'node', // mais estável com supabase\r\n}\r\n\r\nexport async function GET() {\r\n  try {\r\n    const { data, error } = await supabase\r\n      .from('partidas')\r\n      .select('*')\r\n      .order('id', { ascending: true })\r\n\r\n    if (error) throw error\r\n\r\n    return NextResponse.json(data ?? [])\r\n  } catch (error) {\r\n    console.error('Erro ao buscar partidas:', error instanceof Error ? error.message : JSON.stringify(error))\r\n    return NextResponse.json({ error: 'Erro ao buscar partidas' }, { status: 500 })\r\n  }\r\n}\r\n\r\nexport async function POST(request: Request) {\r\n  try {\r\n    const body = await request.json()\r\n\r\n    // Campos devem estar em minúsculo, compatíveis com o banco\r\n    const newPartida = {\r\n      time1: body.time1,\r\n      jogadorestime1: body.jogadorestime1,\r\n      golstime1: body.golstime1,\r\n      time2: body.time2,\r\n      jogadorestime2: body.jogadorestime2,\r\n      golstime2: body.golstime2,\r\n      data: body.data,\r\n    }\r\n\r\n    const { data, error } = await supabase\r\n      .from('partidas')\r\n      .insert([newPartida])\r\n      .select()\r\n      .single()\r\n\r\n    if (error) throw error\r\n\r\n    return NextResponse.json(data, { status: 201 })\r\n  } catch (error) {\r\n    console.error('Erro ao salvar partida:', error instanceof Error ? error.message : JSON.stringify(error))\r\n    return NextResponse.json({ error: 'Erro ao salvar partida' }, { status: 500 })\r\n  }\r\n}\r\n\r\nexport async function PUT(request: Request) {\r\n  try {\r\n    const body = await request.json()\r\n\r\n    // Garantir que o id seja um número válido\r\n    const id = typeof body.id === 'string' ? parseInt(body.id, 10) : body.id\r\n\r\n    if (!id || isNaN(id)) {\r\n      return NextResponse.json({ error: 'ID da partida é obrigatório e deve ser um número válido' }, { status: 400 })\r\n    }\r\n\r\n    const updatedPartida = {\r\n      time1: body.time1,\r\n      jogadorestime1: body.jogadorestime1,\r\n      golstime1: body.golstime1,\r\n      time2: body.time2,\r\n      jogadorestime2: body.jogadorestime2,\r\n      golstime2: body.golstime2,\r\n      data: body.data,\r\n    }\r\n\r\n    const { data, error } = await supabase\r\n      .from('partidas')\r\n      .update(updatedPartida)\r\n      .eq('id', id)\r\n      .select()\r\n      .single()\r\n\r\n    if (error) throw error\r\n\r\n    return NextResponse.json(data)\r\n  } catch (error) {\r\n    console.error('Erro ao atualizar partida:', error instanceof Error ? error.message : JSON.stringify(error))\r\n    return NextResponse.json({ error: 'Erro ao atualizar partida' }, { status: 500 })\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAGO,MAAM,SAAS;IACpB,SAAS;AACX;AAEO,eAAe;IACpB,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,8HAAA,CAAA,WAAQ,CACnC,IAAI,CAAC,YACL,MAAM,CAAC,KACP,KAAK,CAAC,MAAM;YAAE,WAAW;QAAK;QAEjC,IAAI,OAAO,MAAM;QAEjB,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC,QAAQ,EAAE;IACrC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B,iBAAiB,QAAQ,MAAM,OAAO,GAAG,KAAK,SAAS,CAAC;QAClG,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA0B,GAAG;YAAE,QAAQ;QAAI;IAC/E;AACF;AAEO,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAE/B,2DAA2D;QAC3D,MAAM,aAAa;YACjB,OAAO,KAAK,KAAK;YACjB,gBAAgB,KAAK,cAAc;YACnC,WAAW,KAAK,SAAS;YACzB,OAAO,KAAK,KAAK;YACjB,gBAAgB,KAAK,cAAc;YACnC,WAAW,KAAK,SAAS;YACzB,MAAM,KAAK,IAAI;QACjB;QAEA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,8HAAA,CAAA,WAAQ,CACnC,IAAI,CAAC,YACL,MAAM,CAAC;YAAC;SAAW,EACnB,MAAM,GACN,MAAM;QAET,IAAI,OAAO,MAAM;QAEjB,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC,MAAM;YAAE,QAAQ;QAAI;IAC/C,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B,iBAAiB,QAAQ,MAAM,OAAO,GAAG,KAAK,SAAS,CAAC;QACjG,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAyB,GAAG;YAAE,QAAQ;QAAI;IAC9E;AACF;AAEO,eAAe,IAAI,OAAgB;IACxC,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAE/B,0CAA0C;QAC1C,MAAM,KAAK,OAAO,KAAK,EAAE,KAAK,WAAW,SAAS,KAAK,EAAE,EAAE,MAAM,KAAK,EAAE;QAExE,IAAI,CAAC,MAAM,MAAM,KAAK;YACpB,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAA0D,GAAG;gBAAE,QAAQ;YAAI;QAC/G;QAEA,MAAM,iBAAiB;YACrB,OAAO,KAAK,KAAK;YACjB,gBAAgB,KAAK,cAAc;YACnC,WAAW,KAAK,SAAS;YACzB,OAAO,KAAK,KAAK;YACjB,gBAAgB,KAAK,cAAc;YACnC,WAAW,KAAK,SAAS;YACzB,MAAM,KAAK,IAAI;QACjB;QAEA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,8HAAA,CAAA,WAAQ,CACnC,IAAI,CAAC,YACL,MAAM,CAAC,gBACP,EAAE,CAAC,MAAM,IACT,MAAM,GACN,MAAM;QAET,IAAI,OAAO,MAAM;QAEjB,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B,iBAAiB,QAAQ,MAAM,OAAO,GAAG,KAAK,SAAS,CAAC;QACpG,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA4B,GAAG;YAAE,QAAQ;QAAI;IACjF;AACF","debugId":null}}]
}